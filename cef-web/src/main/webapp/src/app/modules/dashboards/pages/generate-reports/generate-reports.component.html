<!--
 * Â© Copyright 2019 EPA CAERS Project Team
 *
 * This file is part of the Common Air Emissions Reporting System (CAERS).
 *
 * CAERS is free software: you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software Foundation,
 * either version 3 of the License, or (at your option) any later version.
 *
 * CAERS is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
 * even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with CAERS.  If
 * not, see <https://www.gnu.org/licenses/>.
-->
<div>

   <div class="d-flex flex-row flex-wrap">

      <div class="mr-3" style="flex: 1 1 0">

         <div class="card">
            <div class="card-header text-center">
               <strong>Generate Reports</strong>
            </div>

            <div class="card-body">
			   <div class="row">
               <div class="form-inline">
               	  <label for="cbo-generated-report-type" class="col-form-label mr-2">
	                <strong>Report Type:</strong>
	              </label>
	              <select id="cbo-generated-report-type" style="width: 200px"
	                      class="form-control form-control-sm mr-3"
						  (change)="onReportSelectionChange()"
	                      [(ngModel)]="selectedReport">
                      <option [ngValue]="null"></option>
	                 <option *ngFor="let type of reportTypeEnumValues" [value]="type">{{reportTypes[type]}}</option>
	              </select>
			   </div>
			   <div class="form-inline" *ngIf="reportTypes[selectedReport] === reportTypes.ANNUAL_EMISSIONS_REPORTING_DATA">
               	  <label for="reportComponent" class="col-form-label mr-2">
	                <strong>Report Component:</strong>
               	  </label>
               	  <select id="reportComponent"
	                      class="form-control form-control-sm mr-3"
						  (change)="onReportComponentSelectionChange()"
	                      [(ngModel)]="selectedAnnualEmissionsComponent">
                     <option [ngValue]="null"></option>
                     <option *ngFor="let component of annualEmissionsCompEnumValues" [value]="component">{{annualEmissionsReportComponents[component]}}</option>
               	  </select>
			   </div>
			   <div class="form-inline" *ngIf="reportTypes[selectedReport] !== reportTypes.MAX_NUMBER_OF_QAS">
                  <label for="year" class="col-form-label mr-2">
                     <strong>Reporting Year:</strong>
                  </label>
                  <select id="year"
                          class="mr-3 form-control form-control-sm"
						  (change)="onYearSelectionChange()"
                          style="width: 75px"
                          [formControl]="cboYear">
                     <option [ngValue]="null"></option>
                     <option *ngFor="let item of (availableYears | sortBy:'':'desc')"
                             [value]="item">{{item}}</option>
                  </select>
			   </div>
			   </div>
			</div>
			<div class="card-footer">
               <div class="row">
                  <div class="col-sm-12" style="text-align: right">
                     <button class="btn btn-success btn-md"
                     		(click)="generateReport(user.programSystemCode)"
							[disabled]=invalidSelection>
                        <span>Generate Report</span>
                     </button>
                  </div>
               </div>
            </div>
		 </div>
	  </div>
   </div>


</div>
